# The universal property of the circle

```agda
module synthetic-homotopy-theory.universal-property-2-sphere where
```

<details><summary>Imports</summary>

```agda
open import foundation.action-on-identifications-dependent-functions
open import foundation.action-on-higher-identifications-functions
open import foundation.action-on-identifications-functions
open import foundation.cartesian-product-types
open import foundation.commuting-squares-of-identifications
open import foundation.constant-type-families
open import foundation.contractible-maps
open import foundation.contractible-types
open import foundation.dependent-identifications
open import foundation.dependent-pair-types
open import foundation.equality-dependent-pair-types
open import foundation.equivalences
open import foundation.fibers-of-maps
open import foundation.function-extensionality
open import foundation.function-types
open import foundation.functoriality-dependent-pair-types
open import foundation.homotopies
open import foundation.identity-types
open import foundation.propositions
open import foundation.sections
open import foundation.transport-along-identifications
open import foundation.universe-levels

open import synthetic-homotopy-theory.dependent-2-loops
open import synthetic-homotopy-theory.double-loop-spaces
open import synthetic-homotopy-theory.free-2-loops
```

</details>

## Idea

The 2-sphere is the type freely generated by a point and a 2-loop.
Thus, maps ùïä¬≤ ‚Üí X are equivalent to [free 2 loops](synthetic-homotopy-theory.free-2-loop.md) in `X`.

## Definitions

### Evaluating an ordinary function at a free 2-loop

```agda
module _
  {l1 l2 : Level} {X : UU l1} (Œ± : free-2-loop X) (Y : UU l2)
  where

  ev-free-2-loop : (X ‚Üí Y) ‚Üí free-2-loop Y
  pr1 (ev-free-2-loop f) = f (base-free-2-loop Œ±)
  pr2 (ev-free-2-loop f) = ap¬≤ f (2-loop-free-2-loop Œ±)

Eq-free-2-loop-ev-free-2-loop-id :
  {l1 : Level} {X : UU l1} (Œ± : free-2-loop X) ‚Üí Eq-free-2-loop (ev-free-2-loop Œ± X id) Œ±
pr1 (Eq-free-2-loop-ev-free-2-loop-id Œ±) = refl
pr2 (Eq-free-2-loop-ev-free-2-loop-id Œ±) =
  ( inv (tr-Œ©¬≤ refl (ap¬≤ id (2-loop-free-2-loop Œ±)))) ‚àô
  ( inv right-unit) ‚àô
  ( ap¬≤-id (2-loop-free-2-loop Œ±))

compute-ev-free-2-loop-id :
  {l1 : Level} {X : UU l1} (Œ± : free-2-loop X) ‚Üí (ev-free-2-loop Œ± X id) Ôºù Œ±  
compute-ev-free-2-loop-id {X = X} Œ± =
  map-inv-equiv
    ( extensionality-free-2-loop (ev-free-2-loop Œ± X id) Œ±)
    ( Eq-free-2-loop-ev-free-2-loop-id Œ±)
```

### The universal property of the 2-sphere

```agda
module _
  {l1 : Level} {X : UU l1} (Œ± : free-2-loop X)
  where

  universal-property-2-sphere : UUœâ
  universal-property-2-sphere =
    {l : Level} (Y : UU l) ‚Üí is-equiv (ev-free-2-loop Œ± Y)

  equiv-universal-property-2-sphere : UUœâ
  equiv-universal-property-2-sphere =
    {l : Level} (Y : UU l) ‚Üí (X ‚Üí Y) ‚âÉ free-2-loop Y

  equiv-universal-property-2-sphere-universal-property-2-sphere :
    universal-property-2-sphere ‚Üí equiv-universal-property-2-sphere
  pr1 (equiv-universal-property-2-sphere-universal-property-2-sphere u Y) =
    ev-free-2-loop Œ± Y
  pr2 (equiv-universal-property-2-sphere-universal-property-2-sphere u Y) = u Y
```

### Evaluating a dependent function at a free 2-loop

```agda
module _
  {l1 l2 : Level} {X : UU l1} (Œ± : free-2-loop X) (P : X ‚Üí UU l2)
  where

  ev-free-2-loop-‚àè : ((x : X) ‚Üí P x) ‚Üí free-dependent-2-loop Œ± P
  pr1 (ev-free-2-loop-‚àè f) = f (base-free-2-loop Œ±)
  pr2 (ev-free-2-loop-‚àè f) = apd-Œ©¬≤ f (2-loop-free-2-loop Œ±)
```

### Induction principle of the 2-sphere

```agda
module _
  {l1 : Level} {X : UU l1} (Œ± : free-2-loop X)
  where

  induction-principle-2-sphere : UUœâ
  induction-principle-2-sphere =
    {l2 : Level} (P : X ‚Üí UU l2) ‚Üí section (ev-free-2-loop-‚àè Œ± P)
    
module _
  {l1 l2 : Level} {X : UU l1} (Œ± : free-2-loop X)
  (H : induction-principle-2-sphere Œ±) (P : X ‚Üí UU l2)
  (Œ≤ : free-dependent-2-loop Œ± P)
  where

  function-induction-principle-2-sphere : (x : X) ‚Üí P x
  function-induction-principle-2-sphere = pr1 (H P) Œ≤

  compute-induction-principle-2-sphere :
    (ev-free-2-loop-‚àè Œ± P function-induction-principle-2-sphere) Ôºù Œ≤
  compute-induction-principle-2-sphere = pr2 (H P) Œ≤
```

### The dependent universal property of the circle

```agda
module _
  {l1 : Level} {X : UU l1} (Œ± : free-2-loop X)
  where

  dependent-universal-property-2-sphere : UUœâ
  dependent-universal-property-2-sphere =
    {l2 : Level} (P : X ‚Üí UU l2) ‚Üí is-equiv (ev-free-2-loop-‚àè Œ± P)
```

## Properties

### Evaluating a free 2-loop into a type of dependent pairs

```agda
module _
  {l1 l2 : Level} {X : UU l1} (Œ± : free-2-loop X) (B : X ‚Üí UU l2)
  where

  t :
    (s : free-2-loop (Œ£ X B)) ‚Üí
    (pr1 (base-free-2-loop s) , ap¬≤ pr1 (2-loop-free-2-loop s)) Ôºù pr1 (map-inv-equiv (compute-free-2-loop-Œ£ B) s)
  t = {!!}
  

```

### The universal property of the 2-sphere implies the induction principle of the 2-sphere

```agda
module _
  {l1 l2 : Level} {X : UU l1} (Œ± : free-2-loop X)
  (u : universal-property-2-sphere Œ±) (B : X ‚Üí UU l2)
  where

  e :
    section (pr1 {B = B}) ‚âÉ
    Œ£ (free-2-loop (Œ£ X B))
      Œª s ‚Üí
        ( Eq-free-2-loop (pr1 (map-equiv (inv-compute-free-2-loop-Œ£ B) s)) Œ±)
  e =
    ( equiv-Œ£
      (Œª s ‚Üí Eq-free-2-loop (pr1 (map-equiv (inv-compute-free-2-loop-Œ£ B) s)) Œ±)
      ( equiv-universal-property-2-sphere-universal-property-2-sphere Œ± u (Œ£ X B))
      ( Œª f ‚Üí
        ( ( {!extensionality-free-2-loop (ev-free-2-loop Œ± X (pr1 ‚àò f)) Œ±!})) ‚àòe
        ( equiv-concat' (ev-free-2-loop Œ± X (pr1 ‚àò f)) (compute-ev-free-2-loop-id Œ±)) ‚àòe
        ( equiv-ap (equiv-universal-property-2-sphere-universal-property-2-sphere Œ± u X) (pr1 ‚àò f) (id)) ‚àòe
        ( equiv-eq-htpy)))

--  (extensionality-free-2-loop (ev-free-2-loop Œ± X (pr1 ‚àò f)) Œ±)
module _
  {l1 : Level} {X : UU l1} (Œ± : free-2-loop X)
  (u : universal-property-2-sphere Œ±)
  where

  

  induction-principle-2-sphere-universal-property-2-sphere :
    induction-principle-2-sphere Œ±
  pr1 (induction-principle-2-sphere-universal-property-2-sphere P) Œ≤ =
    {!map-compute-free-2-loop-Œ£ (Œ± , Œ≤)!}
  pr2 (induction-principle-2-sphere-universal-property-2-sphere P) = {!!}
    
```

### The universal property of the 2-sphere implies the dependent universal property of the 2-sphere

```agda
module _
  {l1 : Level} {X : UU l1} (Œ± : free-2-loop X)
  (u : universal-property-2-sphere Œ±)
  where

  dependent-universal-property-2-sphere-universal-property-2-sphere :
    dependent-universal-property-2-sphere Œ±
  dependent-universal-property-2-sphere-universal-property-2-sphere =
    Œª P ‚Üí {! !}
```

